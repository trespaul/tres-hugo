{{ define "main" }}

{{- partial "header.html" . -}}
<main class="container mx-auto my-16">

  <section class="text-base m-8
    grid grid-cols-1 gap-x-4 gap-y-24 items-start
    xl:grid-cols-2"
  >
    <div>
      {{ partial "page-header.html" . }}

      <!-- TODO: style image -->
      {{ if .Params.image }}
        <img class="mt-8" src="{{ .Params.image | absURL }}" alt="{{ .Title }}">
      {{ end }}

      {{ partial "page-metadata.html" . }}

      {{ if .Params.toc }}
        <p class="font-bold mt-8 mb-0">Contents</p>
        {{ .TableOfContents }}
      {{ end }}
    </div>

    <div>
      {{ if .Content }}
        <article
          {{ if .Params.paragraphNumbering }}
            class="numberedcontent"
          {{ end }}
        >{{ .Content }}</article>
      {{ end }}

      {{ if .Params.endForm }}
        {{ partial "page-form.html" . }}
      {{ end }}

      {{ if .Params.comments }}
        <section>
          {{ template "_internal/disqus.html" . }}
        </section>
      {{ end }}
    </div>
  </section>

</main>
{{ end }}
